---
title: c语言文件指针
---

## 7.2 指针预备知识
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-fc261d3ebed04606b7e0061122a69db7.png) 
显示器和主板之间的 IO接口就是 显卡（里面就有显存 统一编址 也可以 独立编制）
硬盘 - 硬盘控制器
网线 - 网卡
音响 - 声卡  现在都集成在主板上了； 微机接口电路；
输入输出： 站在主机的位置上来讲；
#### 1. 问题： 32位和64位的区别？
32 64代表数据总线的根数；64根总线，64个二进制数，64bit -> 8个字节 (一个时钟周期 就是 主频外频) 
频率不好提升，但是数据宽度可以提升；

#### 2. 和C语言有关系的是地址总线；
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-a25514e492344a44b931d48730abda20.png)

#### 3.为啥一个字节是八个二进制位？
想存进去常用的 符号等；Ask码 100个码位；
2的7次方 ，正好 完成，但是7和 2没有关系，就成 8位 成一个字节；

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-a5a4e714ae6a4f6da01a18933ba53a41.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-b3022d94396b47b1834cae83b4578d65.png)

一个字节一个 地址，当多个字节，存储一个数据的时候，就用第一个地址来代表这个扩容后的空间；第一个的地址。代表这个单元的地址；

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-822656549f0b4996b936aad83e14fa06.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-8385d2e5f1544307a0ee21f7b6f1c60c.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-6426a1ac4bba4f1fbf8787132ef3d0fb.png)
#### 4.指针变量和指针
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-961195be452d4fbea02b3234cd95f3ef.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-5b1cd016f9294a73b4f5a24ce866a5a3.png)

任何指针变量 只能指向和其类型相同类型的数据

#### 5.* 和 &
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-fbe42927e17745bbb0a718f30b868397.png)


![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-b59a973149a249fdb0a71052adfacd34.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-3214a02b019c446a8f68134940fc2b4d.png)

#### 6. 野指针的问题
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-45eb0afcc25e4ba38fc3af0e5417d458.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-fc835871084c448580ab1208aa345f53.png)

###  指针和数组
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-fd719695b31d43d0ab752d754c025d39.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-498cf4ac321c44cb8353fd282bc52e7f.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-11c67c820e7042fbbf6be14056b5760b.png)


![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-e516021c3d614000ae4cf7ee101ed83f.png)

对于指针的 加减 是相对于他的 基类型而言的 当 int 就是加 4 double 就是加 8
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-201a01c48c7b46cc81284be1213831a7.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-cd30a11b829f4f12aec33e3a3677257e.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-185dbe1db32541b6be4446db0f5a09c5.png)

#### 不指定基类型
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-4bea4f1ee8264b818ca65e64d9edc782.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-7701eb929e6d4c14873935d2f48992ad.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-80278c12d8f44ffab471742c1877b09a.png)

#### 形参数组
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-bd859ca10457478791e2af864832439e.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-4839843b834d4d21a478b15bb3fc5181.png)

## 7.3 字符数组与字符串
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-38720f16746e4ddf8f3e1946571a722b.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-bf42805a1db848a2a1b04b6d0a682b62.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-23ef8fecb5114fcab012402e2da67a3e.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-3be3e5ebea8d41f8ab97c46e1e09e67c.png)

两种存储的区别:

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-135016d8c5e04e9cbb79a80cead6c4d7.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-413eae509bf34a258190481577fcfe07.png)

## 7.4 指针与函数
### 7.4.1 指针作为函数参数
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-6455cb0bc6c446b6874391146b0c9fa0.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-523c89ac74b74e30a68ca9024ed24fc8.png)
### 7.4.2 返回值为指针的的函数
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-032e6b68776244a89e1ee0598f2c78b0.png)
返回数组的形式:
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-02ecc48903ef483e8255dd8887eee46f.png)

### java和c语言变量赋默认值
java : java 是不管是 静态变量还是 非静态 都是赋予 0 ,0.0 等
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-9ea32934c171467fb1fd6f0d900bfc90.png)
在C语言中 非静态的值是 赋予 随机数,但是静态的 值 赋予0 
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-5a39f16a511e42d193695f3632aa6725.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-12776bac084a4396a0ea7dd73a2f9ae9.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-d92df78cded6487da34f8e25889e9796.png)

返回 类型为 int* 整形指针类型;

当不是静态的时候,第一次输出是没有问题的,但是之后都有问题
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-56c596e3c84f446596f8137913d15b01.png)

原因:
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-1ff5f9e6ab8144a9ab509f9c74d21632.png)

### 7.4.3 指向函数的指针变量
出现两个 **小括号的时候** ,就是指向函数的 指针;
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-c7291cfbae77467c85680d287234b317.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-804b7cb5f1654f1b9c9170f063eadc5d.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-6ad4ce116ee84e628f701536ee8d57fc.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-0c80cfa15c8a44319331481b7e35bc88.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-88aabbe757334d78a39376592dbc4918.png)


## 7.5 多级指针
几乎只会 用到二级指针：（就这三种二级指针）
- 指向指针的指针
- 指针数组的数组名
- 指向多维数组的指针
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-a69bc24ea88840a08a03f11a54d2e57f.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-4e80af7b61e24ac781aedfa52e9fc294.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-fe547a2de37f47249d0ba5766a50b7fb.png)

### 7.5.2 指针数组

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-3476e51af76b4d4db2cbc8bd0fe23fec.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-95744091911140a395257829a7fb6fbe.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-0bd2103a63734b44b634fb7fa7d81662.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-b3132e8acf21449babbf94d3a1b9a85e.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-6187ab227bbe4cfd94af5d9f53270d70.png)

形参数组,实际本质 就是指针,根本没有自己的空间;

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-3b6dac6083264fdc9b111d90b910372f.png)
### 7.5.3 方法中的static 
static 在 普通的方法中定义的静态数组，不能直接在 主函数中 使用 ，虽然static 的声明周期被延长，但是他的作用域 是不变的，需要 在方法中返回 然后主函数 接受后 ，在进行操作；

### 7.5.3 指向多维数组的指针 行指针
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-8f5fdfee849840dfac0a1a6e81acc3c1.png)


## 8 结构体
### 8.1 结构体概述
数组： 为了处理 一批相同 数据类型的 数据
结构体： 为了处理不同的数据类型的需要；
#### 1.初始化 
三种方式： 
- 常规的 先定义类型名字，然后在去定义变量；
- 直接在定义结构体的时候 就定义变量
- 省略名字，直接定义变量；
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-21229eded88b4f959bb3f7283c821175.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-4e380d1e98744851b7ce55d9e2cd7535.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-3e33183fa6a946b981600d593e8af9c0.png)
#### 2.结构体的内存大小
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-d254358a4726482296d178305d8b2af7.png)

实际的内存会大一点，是内存对齐的印象；是结构体的各个 
成员在加的时候，会流出空隙，就会让内存变大；
#### 3.访问结构体变量
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-4bb61d7b73014bd58a7dbeb424a474fe.png)
处于第一优先级的符号是：
. () [] -> 四个是第一优先级

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-12e96e87eec64df99fe1a31c5916777e.png)

输入输出 必须是一个一个的成员单独处理 数据类型以定义的时候为准

### 8.2 结构体数组
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-ecc0e7ec482645f3b8fa7a27096badf1.png)

### 8.2 指向结构体指针

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-94e22968100944399774e81df9fe9289.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-e913d81f26964dc7ac81b94ac6690981.png)

先取到地址里面的内容，然后在点 点到成员的属性；
**最常用的还是指向运算符**
#### 为啥指向成员名，就可以知道成员的值呢？？？
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-7bb3db38eb714b82bae0d53a6c0e02c0.png)

在结构体编译的时候，就把成员名 编译成偏移量了；

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-56ea792027ad43e189d7030fab7e949d.png)![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-bbe146c3ba8e4b36adb72654b2803bd6.png)
### 8.4 结构体与函数

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-8f8d3e0a3e7f442bb2ee9a2abfe6b562.png)
在定义数组的时候，必须是int【int 类型的常量】 其他都是错误；

### 8.5 链表（线性表）
#### 8.5.1 动态内存管理
**C语言规定：** 
变量定义 数组定义 函数声明 必须按着左大括号放 在他之前是不能出现 可执行代码的； 后缀是.c 是c语言 只能用c语言编辑器 但是 .cpp 是c+ +语言代码 使用c++ 的编译器；

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-0edcdb10875748d7a765a0552846ce4e.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-debb4fd3b1eb4a8e98601c87d26aed17.png)

- malloc 函数 
参数是 类型的字节数大小 返回的时候，无类型的 指针，需要进行强制类型转化才能被使用
- calloc函数 
两个参数 以一个是 n 第二个是size 的大小，calloc函数生成一个 n*size 大小的动态内存空间
- realloc（void *p， unsign int size）
对一个已经分配好的 位置，重新分配
- free （void *p）
释放一个 已经分配的 内存空间

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-963c02a87c0a48bca2648b467f4fb61b.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-415d8511450149768f450fca5937d8a6.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-92b99450ba1a45a4896c409a5dcd1741.png)

栈中的可以自动释放，但是堆中的是需要程序员去释放，否则内存溢出；如果不会受就是 **内存泄漏**
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-ee095fdc8d38470da62721fdef2e0018.png)

转换后 的地址相当与一个 数组名；可以进行加减等 操作；
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-2b30cbe8b9e24d78bea7201edf4f83cb.png)

### 8.6 共用体概述
（共用体几乎退出历史舞台）
### 8.7 类型定义符 typedef
为已经 存在的类型起别名；
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-bf21848f0a1f4985944859e4d2eadd9b.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-d15ac71862954d679b904c22cf6e9f5f.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-d940fa658bb74bd09b83a6ff14ab5da3.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-af1a59025a5a478c81d653e88dcd905e.png)

### 8.8 宏定义 和 typedef
宏定义由预处理（编译之前）完成
typedef在编译时完成

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-4378f50150fb40c4ac15d485c7f29e58.png)

##  9.文件
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-f71b82c43c954474b63584cdbd105ef3.png)


![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-d44393bcf5864312a662de2c1915f5df.png)


![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-614c09610e924f12b966d3fc0185df5d.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-b595e2a89d664be99c580a4de6ecd4fa.png)

### 文本和二进制的方式区别
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-50a8772f27e44595a53df2a78cfb8842.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-a2d0ec5b549e4cb499d856208a95b763.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-74a5b1a3ee574347b25dd87f2a0a0104.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-1a6bf2d5bbc641c8bbf1aabe3236d954.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-83688e5f062e43a28b5f8c50e660a022.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-9740485f4e9146099beb355f023ac421.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-54e2d83d345b40999da0a8c03b2ad5dd.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-c369645c929d4e9db8fa4bf31603cc53.png)

### 函数
#### 1.读写字符
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-3dd4b08c6e9a4171bb4597b1aa20341e.png)

#### 2.字符串的函数
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-a5adeebdd5b240d0ab118f2e00c04896.png)

#### 3.数据块的函数
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-bd6ba78153ce4c83a10f14e7eccdc475.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-bc16d67e169f4e7ead9422054c996782.png)

#### 4.文件的定位
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-638876069bb54ee78652bc6c01c8ca6c.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-0d20fca9e3174eb0a9d9c11817421204.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-680f380a58a64628bf15efff00a0fd92.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-12fe7437fc18444a925fe2e770570b0a.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/05/image-c4732ef5b93f49728f011814d7fa48d3.png)

