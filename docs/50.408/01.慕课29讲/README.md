
## 为什么要学习计算机网络
记得我还在阿里工作的时候，午餐期间和几个面试官聊起了上午发生的一起事故。因为 TCP 队头阻塞，没有预备方案，导致分布式集群中部分服务发生延迟，最后有一个系统雪崩。于是大家就开始罗列自己遇到的各种网络问题，比如：


- 有的遇到 DDoS


- 有的遇到 DNS 劫持


- 有的遇到跨机房通信问题


……


既然网络可以作为面试官们的饭后谈资，那么在面试中肯定也经常被问到，说实话，我自己作为面试官，也很喜欢考察候选人关于网络的问题。
原因很简单，**网络是一种工作技能**，我需要通过几个网络知识的问答，确认求职者未来是否会给我带来很大“麻烦”。而据我观察，大部分求职者都不能游刃有余地应对：


很多候选人在回答“TCP 为什么要 3 次握手”这样简单的问题时，就像背经文一样，没有自己的理解；


当面对“HTTPS 协议的 TTFB 传输时间”这类需要将 TCP 的原理和 HTTPS 结合起来思考的问题，就更加束手无策。


此外，工作当中也**经常要用到**计算机网络的知识，而且一旦用错就容易造成灾难性的后果，给公司直接带来经济损失。
但实际情况是，很多程序员对网络相关的知识一知半解，不足以应对日常的工作需求。我自己做团队 Leader 时，就深有体会：


团队里多数成员遇到网络故障（如 DNS 故障）时，由于没有系统性地学习过网络相关的知识，对Linux 下，诸如 nslookup、telnet、lsof、netstat 等网络相关的指令一知半解，导致不知道如何定位问题；


很多人使用 TCP 连接时，只考虑收发数据，不能考虑到队头阻塞、多路复用等问题，导致经常出现系统负载不高，但是吞吐量很低的情况。


看到上面这些场景，我相信大部分同学定会感同身受。作为过来人，我可以负责任地说：一名程序员，无论是应对日常开发、日常排查，还是解决突发的网络问题（网络调试、网络优化）都离不开计算机网络。而要想成为优秀的工程师、架构师，朝着更高阶、更高薪的岗位去晋升，**补足编程必备基础知识——计算机网络是绕不过去的一关。**
对程序员来说，计算机网络解决的是常识问题，有了这些常识，你才能更好地利用工具解决工作中的问题。比如用 telnet 调试远程服务、用 Whireshark 抓包定位网络故障；再比如把 ulimit 设置成多少？Dubbo 异步单一连接扛不住了该怎么办？用 HTTP 协议的 Keep-Alive 维持心跳可不可行？等等。​
## 我是如何设计这门课程的
萌生了设计一门网络的课程后，我又花了大量时间去研究目前市场上相关的学习资料，大致可以总结为四类：


- 第一类是大学课程和经典教材，优势是全面，缺点是 4/5 的内容不会直接在工作和面试中使用。因此你们都不愿意花时间。


- 第二类是面经类资料（帖子、博文），对于基础薄弱的人来说，东一榔头、西一棒槌地自学，很难形成知识体系，在工作和面试时无法应对自如。


- 第三类是专业图书，由于网络相关的知识非常多而繁杂，相应的专业书籍数量非常多而且体量大，对网络初学者和应对面试者来说并不友好。


- 最后一类便是付费类在线课程，基本上也是内容覆盖面较广，不够聚焦。


显然，这些浅尝辄止的工具类资料只能辅助你做日常知识积累，并不能让你在工作中出类拔萃、在面试过程中脱颖而出。
随着和你们的交流越来越多，我渐渐发现，对于一些“有技术追求”的开发人员来说，他们会更关**注底层原理**，而网络便是编程必备的底层基础知识。
因此我想专门为程序员设计一门课程，从**基础结构**、**工作原理**、**应用场景**三个维度，帮你系统性地梳理和讲解计算机网络知识，学完之后，足以应对互联网大厂研发岗位“计网”相关的面试题目，解决日常工作场景中遇到的网络问题。专栏所讲知识覆盖了大学内容的 1/5，但是工作、面试只需要用这 1/5 就能很出彩。为了方便你理解，我整理了一份计算机网络知识地图，如下图所示：![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-e3317bd104824f04a49411974f73c7ed.png)
### 第一个维度：网络的基础结构
这块内容是为了带你了解计算机网络的生态和基础设施。我会和你讨论日常生活和工作中常见的东西，比如路由器、交换机、终端、基站等，介绍它们背后隐含的网络，比如公司网络、家庭网络、网络边界等，以及组织它们工作的网络协议栈，TCP/UDP/IP 等。
### 第二个维度：工作原理
这块内容将介绍网络的工作原理，里面会涉及一些算法问题，比如滑动窗口、路由和寻址。还会涉及细节问题，比如讲解一些封包格式，但更多的是让你理解网络的工作原理，比如多路复用、缓存设计、Socket、I/O 模型等。
### 第三个维度：应用场景
我相信这部分的意义并不需要我过多强调，这些就是你日常工作需要且每天都在用的东西，只不过你平时用得并不深，但是我要在课程中带你深挖一下这块内容。比如：


- HTTPS 协议握手的过程？


- RPC 是如何工作的？


- IM 系统是如何工作的？


- 抓包用什么工具？


- 要注意什么安全攻防？


- 网络出了问题怎么排查？


这部分的意义反而是最容易理解的，所以我就不再赘述了。
- 我把课程分为 5 个模块，共计 29 讲。为了方便你理解，我绘制了计算机网络的知识体系图：

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-b683b68a687a46aa90bad426d6e07f7c.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-e499675ab2394ff7a382ed7683a5478f.png)

### 模块一：互联网和传输层协议
介绍互联网的体系和整体框架，参与的硬件设备，以及它们的作用。还会介绍传输层协议 TCP 和 UDP，重点讨论它们的工作原理、算法和优化策略。这部分知识是计算机网络的基础，也最能体现网络设计的精髓。
### 模块二：网络层协议
围绕局域网和 IP 协议展开，包括 ARP、IPv4、IPv6、NAT 等基本概念，探讨 IPv6 的工作原理，以及 IPv6 和 IPv4 的兼容策略。IP 协议几乎是网络层的唯一协议，是大厂面试最为热门的内容之一。模块一和模块二属于基础篇，是计算机网络最底层的基础知识。
### 模块三：网络编程
围绕 Socket 讨论网络编程，介绍各种网络 I/O 模型和编程方式的优缺点，并以 RPC 框架设计为题去落地学到的这些知识和实现。讨论在不同的并发量、针对不同服务特性选择不同的 I/O 模型，调整 TCP 关联的参数，等等，进而帮助你学习如何优化自己系统的网络。这部分内容会为企业带来实际价值，因此面试官会重点提问。
### 模块四：Web 技术
讨论平时使用最多且最重要的应用层协议——HTTP 协议（包括 HTTP 2.0），并扩大讨论范围到 Web 技术生态，比如从 DNS 看缓存、从 CDN 看负载均衡、从 HTTP 协议看开发规范、从流媒体技术看协议选择，以及从爬虫技术看网络安全。
### 模块五：网络安全
讨论网络安全技术，一部分是基础设施，比如证书、加解密、公私钥体系、信任链等；另一部分是具体的攻击手段，比如 DDoS、XSS、SQL 注入、ARP 攻击、中间人攻击等，以及它们的防御手段。安全是所有互联网公司的高压线，学完这块内容能够帮助你屏蔽掉一些高危操作，在工作中避免出现安全问题。

## 课程导读
- 程序员应该具备的基础知识指的是什么？


- 计算机领域的基础指的又是什么？


为什么程序员要打牢基础？
程序员学好基础知识，是为了更好地开发应用、开发服务。相信你也听过，大牛们常对小年轻们说，要“打牢基础”，但是你现在可能还不知道所谓的基础有哪些，
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-60077d62279c45aeadd8dd0cfe210154.png)
### 1. 计算机组成原理
讲述的是计算机是什么？计算是怎么回事？硬件如何为应用提供计算？作为工程师你只需要了解核心知识即可，我在《重学操作系统》专栏中作为一个单独的章节（模块一），已经向大家介绍过了。其实计算机组成原理中涉及很多有趣的常识问题，比如能不能写一个程序判断计算机是不是开机状态？你可以思考这个问题，然后在留言区和我互动。
### 2. 操作系统
操作系统对于我们最大的实践意义是：如何合理规划**应用的生命周期**以及资源使用，比**如如何处理高并发**、**如何提升系统的稳定性**、如何节约硬件成本等。具体来说学好操作系统，在写应用、服务的时候，就可以对 CPU、磁盘、内存、网络等资源进行合理规划，达到较高的利用率。所以，每个应用开发者都需要重视这块知识。
如果你想了解数据库、分布式文件系统、协程的底层实现，都可以从这门课开始了解……感兴趣的同学，也可以学习我的《重学操作系统》专栏。
### 3. 计算机网络
计算机网络也是本专栏的主角，讲的是**应用之间**如何进行通信、如何设计应用之间的契约，形成稳定、高效、规范的协作关系（也就是协议）；并通过优化网络的性能，最终节省成本或者让用户满意。比如你：


- 为了让页面秒开、服务秒回，做出的所有的努力；


- 为了优化网络传输细节，去调整 TCP 的滑动窗口；


- 为了提升网络的吞吐量、减少延迟，去开启多路复用能力；


- 为了避免 Downtime，去调整网络的连接池和线程数；


- 为了开发某个应用，尝试去理解一些应用层协议，比如 SSH、RTCP、HTTP2.0， MQTT 等；


- 为了做好日常开发，去理解一些基本概念，比如 DNS、CDN、NAT、IPv4/6 等。


今天，计算机网络已经成为应用提供价值最重要的一环。
自从人们可以上网浏览图片后，逐渐吸引了大量人去冲浪。从互联网起步，到今天几十亿个网站，全球 40 亿网民数量，也就经历了短短几十年。我们的生活被外卖、电商、社交、游戏、娱乐、短视频、金融、电影改变，而这些服务都离不开网络。
对于我这样的 80 后，刚好完整地感受了这种变化。Web 1.0 时代，我还在浏览门户网站；Web 2.0 时代，我们已经将实体关系搬到了网络上；到了 Web 3.0 时代，计算机技术开始通过网络调度人和设备，为实体分配任务，比如滴滴调度专车司机、美团调度外卖配送员。
有人说这是互联网下半场的表现，而事实上虚拟现实、智能硬件、自动驾驶的时代，都还没有到来，行业发展仍需要大量的优质人才。
学完计算机组成原理、操作系统、计算机网络这 3 部分知识，你所学的基础就形成了一个完整的闭环。此时你对硬件、软件的理解，对性能、缓存的理解，都会更进一步。这些看似独立的知识实则相辅相成，比如：
学习网络知识能够让你更深入地看到操作系统的 I/O 和线程模型；
学习操作系统会看到对网络的监控、故障排查、端口、CPU 和内存的使用；
……

因此，弄清知识之间的内在联系，更有助于形成合力构建自己的知识体系，帮助你成为优秀的工程师、架构师。
### 4. 算法和数据结构
算法和数据结构是两种科学，但是又彼此相互关联。**算法是一个计算过程**，**数据结构是数据的组织方式**。无论是计算过程还是数据的组织，我们都需要一个优化的方式——这就是算法和数据结构讨论的问题。
一个问题，有很多种解决方案，那么你想不想知道最优解是什么？虽然在给定资源的条件下，只要资源没有耗尽，问题得到解决，让用户满意，就不需要最优方案——比如最低的延迟、最少的计算时间、最大的空间利用率。
但是用户的满意有尽头吗？答案必然是没有。所以，我向你推荐拉勾教育公瑾老师的《重学数据结构与算法》专栏。我本人非常喜欢他这种清晰、理性、通俗易懂的授课风格。
### 5. 图形学
图形学讨论的是应用和人之间的交互桥梁。有同学会问，那我不开发带图形的应用，只开发后端服务，还需要学习图形学吗？
我只能说，如果你对未来的世界，比如电影、VR、AR、虚拟世界、自动驾驶等充满好奇和期待， 可以尝试学一下这门课。特别是想学 AI 的同学，要知道，深度学习把数据看作图片，让 AI 下棋，你以为它在思考，其实它只是从很多图形中找到概率特征。
### 6. 编程技巧
编程不是算法，编程是语言。语言研究的是怎么表达得更清楚。中国自古有信、达、雅的说法，编程也是这样。算法是解决某个实际问题的计算步骤，研究如何让这个计算步骤以最小的代价实现。而编程研究的是怎么用**程序表达**，阅读起来更方便、维护起来更简单，代码本身就像注释一样清楚。
这是 7 种元素中，最重要，也是最难的一门科学。其他 6 种元素（基础知识），工程师往往学到一定程度，够用就行，而编程的技艺则需要一直深入学习、不断探索。
### 7. 编译原理
在没有学习这门课程前，想深入任何一门计算机语言的底层，都会有相当大的难度。编译原理讲述的是程序语言如何被实现、源代码又如何被编译成应用。比如你想了解 JVM、V8 等引擎；想了解 Go/C++ 的编译器，从编译原理学起是不错的选择。
当然，对于应用开发者而言，编译原理提供的最大价值，就是用元编程技术设计自己的领域专有语言，从语言层面降低研发成本、提高交付效率。长此以往，还会发现系统有一些额外的能力是你之前没有想到的。比如 C++ 之父看到有个年轻人用自己设计的 C++ 模板在编译阶段计算圆周率，这就是他万万没有想到的额外能力，这种能力被称为模板元编程。
总结
《重学操作系统》和《计算机网络通关 29 讲》，便是能够帮你解决工作中遇到的实际问题，又能帮你应对面试的课程。希望它们可以伴随你的成长过程，为你的程序员进阶之路添砖加瓦