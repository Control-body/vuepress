---
title: 计算机网络（ 第二章 应用层）
date: 2022-04-15 17:32:17.176
updated: 2022-04-19 19:25:00.632
url: /archives/计算机网络第二章应用层
categories: 
tags: 
---

# 第2章 应用层
## 2.1提纲
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-cd59b6149b5545c1a0968a85652274d6.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-a618aa2ed9bf49488c65e5d6c4a1b187.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-6b312663a0774292a69db0ebbe5bfef6.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-7859317acc904d89ab5644663df6917e.png)
## 2.1 应用层协议原理

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-89a1244599d240aaa7495d1feda4dd16.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-eb6c83a9c5c44d6381e8a32db471e194.png)
C/S  模式的弊端：
- 可扩展性差
   当用户 很多的时候，就意味着 服务器 承载量很大，性能急剧的下降，就需要扩容，扩容就意味着，需要扩展 附近的网络 
- 可靠性差 
  服务器宕机，就会错误

对等层的弊端
- 服务器 不便与管理 和检测 上线和下线；
- 增加 对服务器的上线和 下线的检测 ，不好管理 等问题；

混合型的 ：

- 只不过是 ，使用服务器 去统一管理 服务器的上线和下线 等；

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-ae2aa443763940309fb25157a3323147.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-0ec512a6953f42ddb60a660401312be5.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-c4c964f5f66b49c98d9332380c8dc808.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-230ffd83a1624bbeb6998d09aac8b902.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-fe2df9ab52b64579ba45e218f09094ab.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-297749025cb3496eae4310d04246d649.png)

传输层引入端口号的概念，用于区分不同的进程 16个比特 65536个不同的端口号

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-b25a2b71fe254a6787e21130030de862.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-f5b1007e72fa4b0a9f9b90506fd5cb8e.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-3d6a1e36efee4575bdd98c4c9801872e.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-fcfac8f80f1c4065a6b5796070a368f2.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-8de6c63e15c24c9b9ba179927da41256.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-9e7cbedf56ed4b0aad2c093f5ac6a8c7.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-5f3501056d6d4f3c8ea8e132f625ca17.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-7fd1e8f64dae414ea0d63a92c9d8a5fb.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-1d2ef5ce2cde43d2ab80f56a8cc3e2b9.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-b580f2e851f94a84a29e2b57b0f7764a.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-d51bd8d786414b3fb8154e838313c186.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-c5ac25462d664f998cb83d3c8faacb81.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-05a6dc798f6c445f8fc58215fd010e42.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-13ca632f403540f095885d90773c13c7.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-adb600ec22544dc4ba7f7b842f47d915.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-da7f72f57a2741fa9b0e45010b62d981.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-754668837e3c47e1935000a2f1af7647.png)
## 2.2 Web and HTTP

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-24dd4c583a874c039c9e5f750440d570.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-356bc783b5d3492c92d09cab33cadf5b.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-2ae678912e324894a8848d6ff70a8d1a.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-c4524da687cc46cbaea7b36dfd054278.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-e242d6ed1072464e9f957832041478e3.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-e5904010dc1f42efa364e2faa38ca80e.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-591f7949d0c44c12af0fced28acfcf21.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-d13d6ec9102e40aba421724f7d6de5fc.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-9c0a43fd84e740e99dd72bf3fa7e2529.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-3d60f30ab1924e25a94701d2fe51883a.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-57a13deb65b54fc2939e405ba552d402.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-97676bf584074e6b85841a79e6c0ced9.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-418a153595c246a5aae177924955ea83.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-e4e4fcc64e734e2cb53dcae4adad05b6.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-3a59109e5733462da7e89ca990f1936a.png)

### 用户-服务器状态：cookies
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-9308277dd9e04b9a843b46c313c3d779.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-d4f3edffd8d34c3f92dd344357eef708.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-aa395773872c4869a65963b7f96a2f5d.png)
### Web缓存
（二八分布） 
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-e6b19db68b7340508e08d4e95cb654e0.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-ef4aacf8cb524cf6a8dae6e11c20ed63.png)
### 案例
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-ff4dd99860b04c2fa5a6c840f12f2be5.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-12d3d4d4154747408ec04caf894a638d.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-d08b52d4d0364d90a4c6bd4f77411ed3.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-5a2f158b14f14497b3b048b971ac2fe8.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-1c1b1d0c83a941e795c8a62ae6fa3533.png)
## 2.3 FTP*
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-900776f1d8374044a606317c85885b49.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-dd5e544cc16e437a850580dc7951a446.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-a6dba767e915480c80faaf161573fe1a.png)
## 2.4 EMail
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-cb3923cd91404a19aa779829431da190.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-28cf1792059c4c0cb921a7bfec8a72b4.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-4f65a9c1b013404183787c0beabe4d1c.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-fa128d12dfe6403f99ecd0fef1f975df.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-bcfebffed5544089b48b9a1f3fd68741.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-45ddb7b43558420480143e7edc378b6e.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-a25b1c40bc7349ae8ba33ff9b3a5c303.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-1ad413d52ef44d35829ae1ad7d7b5606.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-5a671a2f924f4ec68337a310b098f4a9.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-3bcf71cc4efe46679701f7ac812db33c.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-870b65d39c894400bf32adde4026d2a0.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-41746616fb724190848fd7d451e69230.png)
## 2.5 DNS
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-a674c9cbdcbc42e9b849489591394c8e.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-abd5a98e4bc7449bb1264f2b9db56f10.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-7268a2c8ca5f45cf85b118a7ec228a48.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-c898a010cf0842fc8dd200ade5a7738a.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-1565a9b832554c0f962f7e1a0c297a39.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-e692c2f9c106497cab542510a45d2d92.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-b217cb35004346b5a4dacbe41cf3cb73.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-e4400c4f554f4262ac6a2775cd6078ff.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-d0797c7aabd74664aa555df6f1dd2856.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-b57ed20ab1ff414bbfb9ffee85bce815.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-291adaa883734025a8bb6c6377d269fa.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-60fe547f20cf4da38402f89375d90497.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-98b6644e19554d8fa29d2ed2fc7295f2.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-1aa2240f34da4ceeb67114a5dd468496.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-60f9375707dc4261a321e1f2db503b10.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-0d50c309d8ca4f95b53fccfd4ba86fdb.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-06cb419b59864bb0af3291a966fb22bc.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-cded3c9f2bf04b5c8d8ccbbd9127f0a7.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-9e933db74ecd4b94aa1d4d112def9c63.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-382a88eb6da744b192a6462ee20c8ba9.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-77eadd2177dc46cdb1fee421d5abfdaa.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-06a061610bcd42e0a47b3eb085a448f1.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-144abd30a3854547b56fb33db5ee3a24.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-507fea1f0ae442ebb6bdc56b3ffd52f9.png)
### 我们要担心所有的根都不在中国的风险吗？
 答案是不需要， 虽然 跟 DNS服务器不在中国，但是我们可以通过二级域名 甚至更下面的域名去 查询 IP，下面的域名服务器都维护了 对应的解析关系；
## 2.6 P2P 应用
上面的都是 C/S模式的应用：他的缺点就是当用户的大量的增加，他会出现断崖式的性能下降；
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-c99b903ff8cd493cab5e53170282ae89.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-172fb3c3e2d34b1a92c89e1a912d1bf9.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-d7ba1059569c4b049aa33b44d7719675.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-d1db96aca2ad48668bc2ed1899e57329.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-45d31042ba0a48ebbd97fef701d3a0dd.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-69f05a849e3143b58c3b95e04da6f94a.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-9e7e25b08fc5452b9150ca3a0483aaee.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-aa1e9ef4f5e944d19308d053cc31337c.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-6a3aab9292f046ebb41ec251cf443ded.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-f984278695fd4bafb6546e8fc7de1d77.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-cec4c66967fb46f3946ed98839693c26.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-a2398b6532654bab8c8e12c6eeecb767.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-c6e58b54a296482c961c2367d0d21f32.png)
DHT 是结构化的P2P方式； 不是泛红式的查询
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-5d6f78479e2f4f4286fb900f05840345.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-cf69a5b1e61946f6b6f4edf3815e1b78.png)
实例：
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-d432bda9ddea4515879e62c103c15290.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-9aa77982811041fe9276b35925d16d6d.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-6e3aac947bf145928f671c527da9d60c.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-d08749e980a7423abe0368995a524688.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-38ff20170fd344fb82c73d38029ba018.png)

## 2.7 CDN
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-c45c575e6ec44457b04e0a47afff4fea.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-b886330cbab948b8a0b68d34b543c0e6.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-ef6bce39c8914a28858e101232b5d616.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-c542be1a426a446e930ba5a93ded034c.png)
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-63090d2445e347ccb3c5f7c558923212.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-fbc4bb3cb32c4320ab74af3b791bf8af.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-b1a762ed148f4c11a18ab2f69d356610.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-a6593760ccd04f1f9bfe8eef692085ce.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-b28d31a865c24969b2a1f09a55d7c9e0.png)

找到附近的 CDN 加速器的方式：
- 通过流媒体 公告文件，（就是请求真正的 服务器 返回回来的 文件）
- 通过域名解析重定向


![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-f7ed4e30d24c4ac3967bd2906c0c2084.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-7617364135184eb1a5e70fda18efdcad.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-1074f0a3890e4d3f9a435d7992b621cf.png)
## 2.8 TCP 套接字编程
![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-f196014db5d74084a093575c87cf78c3.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-03d5bbdb709843ae927ca327003f82b7.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-b0d139ab19e94728b5b2b8d50cebf942.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-d8cb4db248524cdc890fdfe3e8586aa1.png)

![image.png](https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-c82d74d99f214644b39670635ccca19d.png)

## 2.9 UDP 套接字编程
